function calender(b){function S(a,c){var d;0==a?d="todo":1==a?d="done":-1==a?$("div.point").removeClass("todo").removeClass("done"):console.error("\u201c\u72b6\u6001\u8bbe\u7f6e\u201d\u672a\u627e\u5230"+a+"\u6240\u6307\u7684\u7c7b\u578b");a=$(b.id+" #calender ul li").find("div.dayitem[data-year='"+c.getFullYear()+"'][data-month='"+(c.getMonth()+1)+"']");$.each(a,function(){$(this).find("div.num").html()==c.getDate()&&($(this).find("div.point").removeClass("todo").removeClass("done"),$(this).find("div.point").addClass(d))})}
function T(a,c){var d;-1==a?d="rest":1==a?d="work":console.error("\u201c\u5047\u671f\u8bbe\u7f6e\u201d\u672a\u627e\u5230"+a+"\u6240\u6307\u7684\u7c7b\u578b");a=$(b.id+" #calender ul li").find("div.dayitem[data-year='"+c.getFullYear()+"'][data-month='"+(c.getMonth()+1)+"']");$.each(a,function(){$(this).find("div.num").html()==c.getDate()&&$(this).find("div.workday").addClass(d)})}function D(a,c){if(!l||"month"==l){N(c);a=$(b.id+" .cl_header").height();var d=$(b.id+" .cl_content .week_name").height(),
f=$(b.id+" #cl_content #day_name div.dayitem").height();a=a+d+6*f+10+"px";$(b.id+" #cl_main").css("height",a)}"dw"==l&&(O(c),a=$(b.id+" .cl_header").height(),d=$(b.id+" .cl_content .week_name").height(),f=$(b.id+" #cl_content #day_name div.dayitem").height(),a=a+d+2*f+10+"px",$(b.id+" #cl_main").css("height",a));"w"==l&&(P(c),a=$(b.id+" .cl_header").height(),d=$(b.id+" .cl_content .week_name").height(),f=$(b.id+" #cl_content #day_name div.dayitem").height(),a=a+d+f+10+"px",$(b.id+" #cl_main").css("height",
a))}function N(a,c){var d=u.getDate(),f=u.getMonth()+1,h=u.getFullYear();if(a){var k=a.getFullYear(),e=a.getMonth()+1,l=a.getDate();k&&!e&&(e=1);k||(k=$(b.id+" #cl_main ul li.active").attr("data-year"));e||(e=$(b.id+" #cl_main ul li.active").attr("data-month"));var g=J(k,e);$.each($(b.id+" #calender ul li"),function(){$(this).attr("data-month")==f&&$(this).attr("data-year")==h&&$(this).find("div.dayitem.now").eq(d-1).addClass("current");if($(this).attr("data-month")==e){var a=$(this).index();g.to(a,
"none");0!=c&&(l?$(b.id+" #day_name #calendermain li.active div.dayitem.now").eq(l-1).trigger("click"):$(b.id+" #day_name #calendermain li.active div.dayitem.now").eq(0).trigger("click"))}});return g}}function O(a,c){var d=u.getDate(),f=u.getMonth()+1,h=u.getFullYear();if(a){var k=a.getFullYear(),e=a.getMonth()+1;a=a.getDate();k&&!e&&(e=1);k||(k=$(b.id+" #cl_main ul li.active").attr("data-year"));e||(e=$(b.id+" #cl_main ul li.active").attr("data-month"));a||(a=1);var l=z(h,f,d),g=new Date(h,f-1,d);
r=new Date(k,e-1,a);var U=z(k,e,a),p=J();$.each($(b.id+" #calender ul li"),function(){$(this).attr("data-week")==l.week&&$(this).find("div").attr("data-year")==g.getFullYear()&&$(this).find("div.dayitem").eq(g.getDay()).addClass("current");if($(this).attr("data-week")==U.week){var a=$(this).index();p.to(a,"none");0!=c&&$(b.id+" #day_name #calendermain li.active div.dayitem").eq(r.getDay()).trigger("click")}});return p}}function P(a,c){var d=u.getDate(),f=u.getMonth()+1,h=u.getFullYear();if(a){var k=
a.getFullYear(),e=a.getMonth()+1;a=a.getDate();k&&!e&&(e=1);k||(k=$(b.id+" #cl_main ul li.active").attr("data-year"));e||(e=$(b.id+" #cl_main ul li.active").attr("data-month"));a||(a=1);var l=z(h,f,d),g=new Date(h,f-1,d);r=new Date(k,e-1,a);var p=z(k,e,a),m=J();$.each($(b.id+" #calender ul li"),function(){$(this).attr("data-week")==l.week&&$(this).find("div").attr("data-year")==g.getFullYear()&&$(this).find("div.dayitem").eq(g.getDay()).addClass("current");if($(this).attr("data-week")==p.week){var a=
$(this).index();m.to(a,"none");0!=c&&$(b.id+" #day_name #calendermain li.active div.dayitem").eq(r.getDay()).trigger("click")}});return m}}function A(){var a=$(b.id+" #calender ul li.active").attr("data-month")||$(b.id+" #calender ul li div.click").attr("data-month"),c=$(b.id+" #calender ul li.active").attr("data-year")||$(b.id+" #calender ul li div.click").attr("data-year"),d=$(b.id+" #calender ul li div.click .num")[0].innerText;$(b.id+" #cl_main .cl_header_main .month").html(Q(a));$(b.id+" #cl_main .cl_header_main .year").html(c+
"\u5e74");$(b.id+" #cl_main .cl_header_main .date").html(d+"\u65e5")}function J(a,c){$(b.id+" #cl_main ul li").remove();if(!l||"month"==l)for(var d=-Math.floor(p/2);d<Math.floor(p/2);d++){for(var f=new Date(a,c-1+d),h=f.getMonth()+1,k=f.getFullYear(),e=v(h,k),n=v(h-1,k),f=v(h+1,k),g=0,h=0,k="<li data-year='"+e.year+"' data-month='"+e.month+"'>",m=1;-1<e.weekday-m;m++){var q=n.days-e.weekday+m,k=k+('<div class="dayitem past mpast" data-year="'+n.year+'" data-month="'+n.month+'"><div class="num">'+
q+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(n.year,n.month-1,q))+'</div><div class="workday"></div></div>');h++}for(m=0;m<e.days;m++)q=m+1,k+='<div class="dayitem now" data-year="'+e.year+'" data-month="'+e.month+'"><div class="num">'+q+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(e.year,e.month-1,q))+'</div><div class="workday"></div></div>',g=e.weekday+m;for(m=1;41>g;g++,m++)k+='<div class="dayitem next mnext" data-year="'+f.year+'" data-month="'+
f.month+'"><div class="num">'+m+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(f.year,f.month-1,m))+'</div><div class="workday"></div></div>';k+='<div class="clear"></div></li>';$("#day_name #calendermain ul").append(k)}else if("dw"==l)for(d=-Math.floor(p/2);d<Math.floor(p/2);d++){f=new Date(r.getTime()+12096E5*d);h=f.getMonth()+1;k=f.getFullYear();g=z(k,h,f.getDate());e=v(h,k,f.getDate());n=v(h-1,k,f.getDate());f=v(h+1,k,f.getDate());a=void 0;c=n;n="<li data-week='"+g.week+
"'>";k=e.date-e.weekday-1;g=e.date+(6-e.weekday);if(0>k){for(g=Math.abs(k);0<g;g--)h=c.days-g+1,n+='<div class="dayitem past" data-month="'+c.month+'" data-year="'+c.year+'"><div class="num">'+h+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(c.year,c.month-1,h))+'</div><div class="workday"></div></div>';a=14-Math.abs(k);for(g=1;g<=a;g++)n+='<div class="dayitem now" data-month="'+e.month+'" data-year="'+e.year+'"><div class="num">'+g+'</div><div class="point"></div><div class="lunar_calender">'+
w(new Date(e.year,e.month-1,g))+'</div><div class="workday"></div></div>'}else if(g>e.days){c=g-e.days;a=7-c;for(g=0;g<a;g++)h=e.date-e.weekday+g,n+='<div class="dayitem now" data-month="'+e.month+'" data-year="'+e.year+'"><div class="num">'+h+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(e.year,e.month-1,h))+'</div><div class="workday"></div></div>';for(g=1;g<=c+7;g++)n+='<div class="dayitem next" data-month="'+f.month+'" data-year="'+f.year+'"><div class="num">'+g+'</div><div class="point"></div><div class="lunar_calender">'+
w(new Date(f.year,f.month-1,g))+'</div><div class="workday"></div></div>'}else{for(h=g=0;14>g&&h<e.days;g++)h=e.date-e.weekday+g,n+='<div class="dayitem now" data-month="'+e.month+'" data-year="'+e.year+'"><div class="num">'+h+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(e.year,e.month-1,h))+'</div><div class="workday"></div></div>',a=g;if(h==e.days&&14>a)for(g=1;g<14-a;g++)n+='<div class="dayitem next" data-month="'+f.month+'" data-year="'+f.year+'"><div class="num">'+
g+'</div><div class="point"></div><div class="lunar_calender">'+w(new Date(f.year,f.month-1,g))+'</div><div class="workday"></div></div>'}n+='<div class="clear"></div></li>';$("#day_name #calendermain ul").append(n)}else if("w"==l)for(d=-Math.floor(p/2);d<Math.floor(p/2);d++){f=new Date(r.getTime()+6048E5*d);h=f.getMonth()+1;k=f.getFullYear();g=z(k,h,f.getDate());e=v(h,k,f.getDate());n=v(h-1,k,f.getDate());f=v(h+1,k,f.getDate());a="<li data-week='"+g.week+"'>";h=e.date-e.weekday-1;c=e.date+(6-e.weekday);
if(0>h){for(c=Math.abs(h);0<c;c--)g=n.days-c+1,a+='<div class="dayitem past" data-month="'+n.month+'" data-year="'+n.year+'"><div class="num">'+g+'</div><div class="point"></div><div class="workday"></div></div>';n=7-Math.abs(h);for(c=1;c<=n;c++)a+='<div class="dayitem now" data-month="'+e.month+'" data-year="'+e.year+'"><div class="num">'+c+'</div><div class="point"></div><div class="workday"></div></div>'}else if(c>e.days){h=c-e.days;n=7-h;for(c=0;c<n;c++)g=e.date-e.weekday+c,a+='<div class="dayitem now" data-month="'+
e.month+'" data-year="'+e.year+'"><div class="num">'+g+'</div><div class="point"></div><div class="workday"></div></div>';for(c=1;c<=h;c++)a+='<div class="dayitem next" data-month="'+f.month+'" data-year="'+f.year+'"><div class="num">'+c+'</div><div class="point"></div><div class="workday"></div></div>'}else for(c=0;7>c;c++)g=e.date-e.weekday+c,a+='<div class="dayitem now" data-month="'+e.month+'" data-year="'+e.year+'"><div class="num">'+g+'</div><div class="point"></div><div class="workday"></div></div>';
a+='<div class="clear"></div></li>';$("#day_name #calendermain ul").append(a)}x.init();$(b.id+" #day_name #calendermain li div.dayitem").off("click");$(b.id+" #day_name #calendermain li div.now").off("click");$(b.id+" #day_name #calendermain li div.dayitem.past").off("click");$(b.id+" #day_name #calendermain li div.dayitem.next").off("click");V();$(b.id+" #cl_main .cl_header_left").off("click");$(b.id+" #cl_main .cl_header_right").off("click");W?X(x):($(".cl_header_left").css("display","none"),$(".cl_header_right").css("display",
"none"));if(b.onLoad)b.onLoad();G||($(".lunar_calender").css("display","none"),$(".point").css("bottom","17%"));d=parseInt($(b.id+" #day_name").css("width"));Y?$(b.id+" #day_name #calendermain li div.dayitem").css("height",H+"rem").css("line-height",H+"rem"):$(b.id+" #day_name #calendermain li div.dayitem").css("height",H||d/7).css("line-height",(H||d/7)+"px");E=$(b.id+" .day_name div.dayitem").height();R=$(b.id+" .day_name div.dayitem").width();return x}function X(a){$(b.id+" #cl_main .cl_header_left").on("click",
function(){I(0);l&&"month"!=l?"dw"!=l&&"w"!=l||$(b.id+" #day_name #calendermain li.active div.dayitem").eq(0).trigger("click"):$(b.id+" #day_name #calendermain li.active div.dayitem.now").eq(0).trigger("click");A()});$(b.id+" #cl_main .cl_header_right").on("click",function(){I(2*Math.floor(p/2)-1);l&&"month"!=l?"dw"!=l&&"w"!=l||$(b.id+" #day_name #calendermain li.active div.dayitem").eq(0).trigger("click"):$(b.id+" #day_name #calendermain li.active div.dayitem.now").eq(0).trigger("click");A()})}function I(a){if($(b.id+
" #day_name #calendermain li.active").index()==a){var c=K();0==a?c.to(Math.floor(p/2)-1):c.to(Math.floor(p/2)+1)}else 0==a?x.prev():x.next()}function K(){var a=[];a.year=$(b.id+" #calendermain ul li.active").attr("data-year")||$("#calendermain ul li.active div.click").attr("data-year");a.month=$(b.id+" #calendermain ul li.active").attr("data-month")||$("#calendermain ul li.active div.click").attr("data-month");a.date=$(b.id+" #calendermain ul li.active div.click .num")[0].innerText;if(l&&"month"!=
l)"dw"==l?(a=new Date(a.year,a.month-1,a.date),c=O(a,!1)):"w"==l&&(a=new Date(a.year,a.month-1,a.date),c=P(a,!1));else var a=new Date(a.year,a.month-1,1),c=N(a,!1);return c}function V(){$(b.id+" #day_name #calendermain li div.dayitem").on("click",function(){$(b.id+" #day_name #calendermain li div.dayitem").removeClass("click");$(this).addClass("click");$(b.id+" .day_name div.dayitem .num").css("width",.8*E).css("line-height",.8*E-0+"px").css("margin-left",(R-.8*E)/2);$(b.id+" .day_name div.dayitem .num").css("height",
.8*E)});$(b.id+" #day_name #calendermain li div.now").on("click",function(){b.callback&&b.callback();A()});$(b.id+" #day_name #calendermain li div.past").on("click",function(a){l&&"month"!=l?b.callback&&b.callback():(a=parseInt($(this)[0].innerText),I(0),$(b.id+" #day_name #calendermain li div.dayitem").removeClass("click"),$(b.id+" #day_name #calendermain li.active div.now").eq(--a).trigger("click"));A()});$(b.id+" #day_name #calendermain li div.next").on("click",function(){if(l&&"month"!=l)b.callback&&
b.callback();else{var a=parseInt($(this)[0].innerText);I(2*Math.floor(p/2)-1);$(b.id+" #day_name #calendermain li div.dayitem").removeClass("click");$(b.id+" #day_name #calendermain li.active div.now").eq(--a).trigger("click")}A()})}function z(a,c,b){12<c&&(c=1,a++);1>c&&(c=12,a--);c=new Date(a,c-1,b);a=c.getFullYear();b=c.getMonth();c=c.getDate();for(var d=0;d<b;d++)c+=[31,null,31,30,31,30,31,31,30,31,30,31][d]||(0==a%400||0==a%4&&0!=a%100?29:28);b=(new Date(a,0,1)).getDay()||7;d=[];d.week=7==b?
Math.ceil(c/b):Math.ceil((c-(7-b+1))/7)+1;d.year=a;return d}function v(a,c,b){var d=new Date;0==a&&(a=12,c--);a||(a=d.getMonth()+1);c||(c=d.getFullYear());b||(b=1);var h;h=2==a?0==c%4&&0!=c%100||0==c%400?29:28:1==a||3==a||5==a||7==a||8==a||10==a||12==a?31:30;d=new Date(c,a-1,b);b=[];b.year=c;b.month=a;b.monthName=Q(a);b.date=d.getDate();b.days=h;b.weekday=d.getDay();return b}function Q(a){return"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")[a-
1]}function m(a){a=""+a;return""==a||void 0==a||null==a||"undefined"==a?!0:!1}function Z(){B=3!=arguments.length?new Date:new Date(arguments[0],arguments[1],arguments[2]);var a,b,d,f,h=!1;a=B.getYear();1900>a&&(a+=1900);a=365*(a-1921)+Math.floor((a-1921)/4)+q[B.getMonth()]+B.getDate()-38;0==B.getYear()%4&&1<B.getMonth()&&a++;for(b=0;;b++){for(d=f=4095>C[b]?11:12;0<=d;d--){if(a<=29+(C[b]>>d&1)){h=!0;break}a=a-29-(C[b]>>d&1)}if(h)break}F=1921+b;t=f-d+1;y=a;12==f&&(t==Math.floor(C[b]/65536)+1&&(t=1-
t),t>Math.floor(C[b]/65536)+1&&t--)}function w(a){var b;b=a.getFullYear();var d=a.getMonth()+1;a=a.getDate();if(1921>b||2200<b)b="";else{d=0<parseInt(d)?d-1:11;Z(b,d,a);b=[];d=""+"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678".charAt((F-4)%10);d+="\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5".charAt((F-4)%12);b.CNYear=d;d=d+"("+"\u9f20\u725b\u864e\u5154\u9f99\u86c7\u9a6c\u7f8a\u7334\u9e21\u72d7\u732a".charAt((F-4)%12);b.sx="\u9f20\u725b\u864e\u5154\u9f99\u86c7\u9a6c\u7f8a\u7334\u9e21\u72d7\u732a".charAt((F-
4)%12);d+=")\u5e74 ";1>t?("\u6b63\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u51ac\u814a".charAt(-t-1),b.CNMonth="\u6b63\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u51ac\u814a".charAt(-t-1)+"\u6708"):("\u6b63\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u51ac\u814a".charAt(t-1),b.CNMonth="\u6b63\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u51ac\u814a".charAt(t-1)+"\u6708");d=11>y?"\u521d":20>y?"\u5341":30>y?"\u5eff":"\u4e09\u5341";if(0!=y%10||10==y)"\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341".charAt((y-
1)%10),d+="\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341".charAt((y-1)%10);b.CNDate=d}d=b.CNDate;"\u521d\u4e00"==b.CNDate&&(d=b.CNMonth);"\u521d\u4e00"==b.CNDate&&"\u6b63\u6708"==b.CNMonth&&(d="\u5143\u65e6");"\u5341\u4e94"==b.CNDate&&"\u6b63\u6708"==b.CNMonth&&(d="\u5143\u5bb5\u8282");"\u521d\u4e94"==b.CNDate&&"\u4e94\u6708"==b.CNMonth&&(d="\u7aef\u5348\u8282");"\u5341\u4e94"==b.CNDate&&"\u516b\u6708"==b.CNMonth&&(d="\u4e2d\u79cb\u8282");"\u521d\u4e5d"==b.CNDate&&"\u4e5d\u6708"==b.CNMonth&&
(d="\u91cd\u9633\u8282");"\u521d\u516b"==b.CNDate&&"\u814a\u6708"==b.CNMonth&&(d="\u814a\u516b\u8282");"\u521d\u4e03"==b.CNDate&&"\u4e03\u6708"==b.CNMonth&&(d="\u4e03\u5915\u8282");return d}if(m(b.id))throw Error("calender\u672a\u586b\u5199id");m(b.type)&&(b.type="month");m(b.pageHandler)&&(b.pageHandler=!1);m(b.style)&&(b.style="normal");if("normal"!=b.style&&"miui"!=b.style)throw Error("\u672a\u627e\u5230\u76f8\u5e94\u65e5\u5386\u98ce\u683c");m(b.lunarCalender)&&(b.lunarCalender=!0);m(b.date)&&
(b.date=new Date);m(b.pageNum)&&(b.pageNum=3);m(b.direction)&&(b.direction="x");m(b.dayHeight)&&(b.dayHeight="");m(b.zoom)&&(b.zoom=!1);if(b.zoom&&m(b.dayHeight))throw Error("\u82e5zoom\u4e3atrue\uff0c\u8bf7\u8bbe\u7f6edayHeight\u7684\u503c\uff01");var C=Array(100),q=Array(12),F,t,y,B,E,R,C=[2635,333387,1701,1748,267701,694,2391,133423,1175,396438,3402,3749,331177,1453,694,201326,2350,465197,3221,3402,400202,2901,1386,267611,605,2349,137515,2709,464533,1738,2901,330421,1242,2651,199255,1323,529706,
3733,1706,398762,2741,1206,267438,2647,1318,204070,3477,461653,1386,2413,330077,1197,2637,268877,3365,531109,2900,2922,398042,2395,1179,267415,2635,661067,1701,1748,398772,2742,2391,330031,1175,1611,200010,3749,527717,1452,2742,332397,2350,3222,268949,3402,3493,133973,1386,464219,605,2349,334123,2709,2890,267946,2773,592565,1210,2651,395863,1323,2707,265877];q[0]=0;q[1]=31;q[2]=59;q[3]=90;q[4]=120;q[5]=151;q[6]=181;q[7]=212;q[8]=243;q[9]=273;q[10]=304;q[11]=334;var W=b.pageHandler,G=b.lunarCalender,
L=b.style,l=b.type,r=b.date,u=b.date,p=b.pageNum,M=b.direction;r.getDate();r.getMonth();r.getFullYear();var H=b.dayHeight,Y=b.zoom;$(b.id+" #cl_main").remove();var aa=function(){var a;a=""+('<div class="calender_content '+L+'" id="cl_main">');a+='<div class="cl_header">';"normal"==L?a+='<div class="cl_header_left"><i class="icon-xiangzuo1"></i></div><div class="cl_header_main" id="date_selector"><div class="month"></div>&nbsp;<div class="year"></div></div><div class="cl_header_right"><i class="icon-xiangyou1"></i></div>':
"miui"==L&&(a+='<div class="cl_header_main" id="date_selector"><div class="month"></div><div class="right_box"><div class="year"></div><div class="date"></div></div></div><div class="right_btn"><div class="cl_header_left"><i class="icon-xiangzuo1"></i></div><div class="cl_header_right"><i class="icon-xiangyou1"></i></div></div>');return a+'</div><div class="cl_content" id="cl_content"><div class="week_name"><div class="weekitem day1">\u65e5</div><div class="weekitem day2">\u4e00</div><div class="weekitem day3">\u4e8c</div><div class="weekitem day4">\u4e09</div><div class="weekitem day5">\u56db</div><div class="weekitem day6">\u4e94</div><div class="weekitem day7">\u516d</div><div class="clear"></div></div><div class="day_name" id="day_name"><div id="calender" class="bui-slide"><div id="calendermain" class="bui-slide-main"><ul></ul></div></div></div></div></div>'}();
$(b.id).append(aa);var x=bui.slide({id:"#calender",width:$(b.id+" #day_name").css("width"),distance:80,direction:M,onEnd:function(a,c){x.index();if(!(80>Math.abs(c.x2-c.x1)&&"x"==M||80>Math.abs(c.y2-c.y1)&&"y"==M)){if(b.onMove)b.onMove();$(b.id+" #day_name #calendermain li.active div.dayitem.now").eq(0).trigger("click");A()}}});x.on("first",function(){K().to(Math.floor(p/2)-1)});x.on("last",function(){K().to(Math.floor(p/2)+1)});D(l,r);return{getDate:function(){var a=[];a.year=$(b.id+" #calender ul li.active").attr("data-year")||
$(b.id+" #calender ul li div.click").attr("data-year");a.month=$(b.id+" #calender ul li.active").attr("data-month")||$(b.id+" #calendermain ul li.active div.click").attr("data-month");a.date=$(b.id+" #calender ul li div.click .num")[0].innerText;return new Date(a.year,a.month-1,a.date)},getType:function(){return l},setDate:function(a,c,d,f){f&&(p=f);c&&(l=c);m(d)||(G=d);D(l,a);if(b.onLoad)b.onLoad()},setType:function(a,c,d,f){f&&(p=f);a&&(l=a);m(d)||(G=d);D(l,c);if(b.onLoad)b.onLoad()},setPageNum:function(a){a&&
(p=a);D(l,r);if(b.onLoad)b.onLoad()},setlunarCalender:function(a){m(a)||(G=a);D(l,r)},setStatus:function(a,b){S(a,b)},setHoliday:function(a,b){T(a,b)},hide:function(){$(b.id+" #cl_main").css("display","none")},show:function(){$(b.id+" #cl_main").css("display","block")},getFirstDay:function(a){var c=$(b.id+" #calender ul li"),d,f;switch(a){case -1:f=0;break;case 0:f=1;break;case 1:f=2}a=c.eq(f).find("div.dayitem").eq(0).attr("data-year");d=c.eq(f).find("div.dayitem").eq(0).attr("data-month");c=c.eq(f).find("div.dayitem").eq(0).find("div.num").html();
return new Date(a,d-1,c)},getLastDay:function(a){var c=$(b.id+" #calender ul li"),d,f;switch(a){case -1:f=0;break;case 0:f=1;break;case 1:f=2}var h=c.eq(f).find("div.dayitem").length;a=c.eq(f).find("div.dayitem").eq(h-1).attr("data-year");d=c.eq(f).find("div.dayitem").eq(h-1).attr("data-month");c=c.eq(f).find("div.dayitem").eq(h-1).find("div.num").html();return new Date(a,d-1,c)}}};